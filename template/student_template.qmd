---
title: "Student Observations"
format:
  html:
    toc: true
    number-sections: true
params:
  semester: null
  nnid: null
  ds: null
  required_weeks: 9
  require_obs_per_week: 4
---

```{r echo=F}
library(tidyverse)
library(ggplot2)
```

# Student Overview

## **NNID:** `r params$nnid`  

**Semester:** `r params$semester`  
**Total observations:** `r nrow(params$ds)`  
**Weeks with observations:** `r sum(tapply(params$ds$site_id, params$ds$observation_week, length) > 0)`

---

## Weekly Observations

```{r echo=F}
params$ds %>%
  group_by(observation_week) %>%
  summarize(n_obs = n()) %>%
  ggplot(aes(x = observation_week, y = n_obs)) +
  geom_col(fill = "steelblue") +
  xlab("Week") +
  ylab("Number of Observations")
```

---

## Observations by Plant

The number of observations per individual plant monitored by this student.

```{r echo=F}
params$ds %>%
  group_by(plant_nickname) %>%
  summarize(n_obs = n()) %>%
  ggplot(aes(x = reorder(plant_nickname, n_obs), y = n_obs)) +
  geom_col(fill = "darkgreen") +
  coord_flip() +
  ylab("Observations") +
  xlab("Plant Nickname")
```
